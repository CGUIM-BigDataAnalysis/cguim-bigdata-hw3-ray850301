tmp <- paste(i, '.html', sep='')
for(i in 1:5){
pttNBA<-paste("https://www.ptt.cc/bbs/NBA/index",i,".html",sep="")
pttContent<-read_html(pttNBA ,encoding="UTF-8")
title <- pttContent %>% html_nodes(".title") %>% html_text()
push<-pttContent %>% html_nodes(".nrec")  %>% html_text()
aut<- pttContent %>% html_nodes(".author") %>% html_text()
data=rbind(data.frame(Title=title, PushNum=push, Author=aut))
}
knitr::kable(
data[1:100,c("Title","PushNum","Author")])
data=data.frame(Title=rbind(title), PushNum=rbind(push), Author=rbind(aut))
for(i in 1:5){
pttNBA<-paste("https://www.ptt.cc/bbs/NBA/index",i,".html",sep="")
pttContent<-read_html(pttNBA ,encoding="UTF-8")
title <- pttContent %>% html_nodes(".title") %>% html_text()
push<-pttContent %>% html_nodes(".nrec")  %>% html_text()
aut<- pttContent %>% html_nodes(".author") %>% html_text()
data=data.frame(Title=rbind(title), PushNum=rbind(push), Author=rbind(aut))
}
knitr::kable(
data[1:100,c("Title","PushNum","Author")])
for(i in 1:5){
pttNBA<-paste("https://www.ptt.cc/bbs/NBA/index",i,".html",sep="")
pttContent<-read_html(pttNBA ,encoding="UTF-8")
title <- pttContent %>% html_nodes(".title") %>% html_text()
push<-pttContent %>% html_nodes(".nrec")  %>% html_text()
aut<- pttContent %>% html_nodes(".author") %>% html_text()
data=data.frame(Title<-t, PushNum<-push, Author<-aut)
}
View(data)
data=data.frame(Title<-t)
data=NULL
for(i in 1:5){
pttNBA<-paste("https://www.ptt.cc/bbs/NBA/index",i,".html",sep="")
pttContent<-read_html(pttNBA ,encoding="UTF-8")
title <- pttContent %>% html_nodes(".title") %>% html_text()
push<-pttContent %>% html_nodes(".nrec")  %>% html_text()
aut<- pttContent %>% html_nodes(".author") %>% html_text()
data=data.frame(Title<-t)
}
data=data.frame(title)
View(data)
data=NULL
for(i in 1:5){
pttNBA<-paste("https://www.ptt.cc/bbs/NBA/index",i,".html",sep="")
pttContent<-read_html(pttNBA ,encoding="UTF-8")
title <- pttContent %>% html_nodes(".title") %>% html_text()
push<-pttContent %>% html_nodes(".nrec")  %>% html_text()
aut<- pttContent %>% html_nodes(".author") %>% html_text()
tdata=data.frame(title)
pdata=data.frame(push)
adata=data.frame(aut)
}
View(tdata)
View(pdata)
View(adata)
View(adata)
tdata=data.frame(title, push, aut)
View(tdata)
tdata=NULL
pdata=NULL
adata=NULL
pttPKM<-"https://www.ptt.cc/bbs/PokemonGo/index.html"
pttContent<-read_html(pttPKM)
post_title <- pttContent %>% html_nodes(".title") %>% html_text()
## 列出爬出的第1~20筆資料
post_title[1:20]
p1data=data.frame(Title=title,PushNum=push,Author=aut)
data=NULL
for(i in 1:5){
pttNBA<-paste("https://www.ptt.cc/bbs/NBA/index",i,".html",sep="")
pttContent<-read_html(pttNBA ,encoding="UTF-8")
title <- pttContent %>% html_nodes(".title") %>% html_text()
push<-pttContent %>% html_nodes(".nrec")  %>% html_text()
aut<- pttContent %>% html_nodes(".author") %>% html_text()
data=data.frame(Title=title,PushNum=push,Author=aut)
}
data=data.frame(Title=title,PushNum=push,Author=aut)
View(data)
for(i in 1:5){
pttNBA<-paste("https://www.ptt.cc/bbs/NBA/index",i,".html",sep="")
pttContent<-read_html(pttNBA ,encoding="UTF-8")
title <- pttContent %>% html_nodes(".title") %>% html_text()
push<-pttContent %>% html_nodes(".nrec")  %>% html_text()
aut<- pttContent %>% html_nodes(".author") %>% html_text()
data=data.frame(Title=title,PushNum=push,Author=aut)
dataAll=rbind.data.frame(data)
}
for(i in 1:5){
pttNBA<-paste("https://www.ptt.cc/bbs/NBA/index",i,".html",sep="")
pttContent<-read_html(pttNBA ,encoding="UTF-8")
title <- pttContent %>% html_nodes(".title") %>% html_text()
push<-pttContent %>% html_nodes(".nrec")  %>% html_text()
aut<- pttContent %>% html_nodes(".author") %>% html_text()
data=data.frame(Title=title,PushNum=push,Author=aut)
dataAll=data+rbind.data.frame(data)
}
dataAll=NULL
data=NULL
for(i in 1:5){
pttNBA<-paste("https://www.ptt.cc/bbs/NBA/index",i,".html",sep="")
pttContent<-read_html(pttNBA ,encoding="UTF-8")
title <- pttContent %>% html_nodes(".title") %>% html_text()
push<-pttContent %>% html_nodes(".nrec")  %>% html_text()
aut<- pttContent %>% html_nodes(".author") %>% html_text()
if(i=1){
data=NULL
for(n in 1:5){
i<-n
pttNBA<-paste("https://www.ptt.cc/bbs/NBA/index",i,".html",sep="")
pttContent<-read_html(pttNBA ,encoding="UTF-8")
title <- pttContent %>% html_nodes(".title") %>% html_text()
push<-pttContent %>% html_nodes(".nrec")  %>% html_text()
aut<- pttContent %>% html_nodes(".author") %>% html_text()
if(n=1){
for(n in 1:5){
i<-n
pttNBA<-paste("https://www.ptt.cc/bbs/NBA/index",i,".html",sep="")
pttContent<-read_html(pttNBA ,encoding="UTF-8")
title <- pttContent %>% html_nodes(".title") %>% html_text()
push<-pttContent %>% html_nodes(".nrec")  %>% html_text()
aut<- pttContent %>% html_nodes(".author") %>% html_text()
if(n=1){
data=NULL
for(n in 1:5){
i=n
pttNBA<-paste("https://www.ptt.cc/bbs/NBA/index",i,".html",sep="")
pttContent<-read_html(pttNBA ,encoding="UTF-8")
title <- pttContent %>% html_nodes(".title") %>% html_text()
push<-pttContent %>% html_nodes(".nrec")  %>% html_text()
aut<- pttContent %>% html_nodes(".author") %>% html_text()
if(n=1){
for(n in 1:5){
i=n
pttNBA<-paste("https://www.ptt.cc/bbs/NBA/index",i,".html",sep="")
pttContent<-read_html(pttNBA ,encoding="UTF-8")
title <- pttContent %>% html_nodes(".title") %>% html_text()
push<-pttContent %>% html_nodes(".nrec")  %>% html_text()
aut<- pttContent %>% html_nodes(".author") %>% html_text()
if(n==1){
data1=data.frame(Title=title,PushNum=push,Author=aut)
}else if(n==2){
data2=data.frame(Title=title,PushNum=push,Author=aut)
}else if(n==3){
data3=data.frame(Title=title,PushNum=push,Author=aut)
}else if(n==4){
data4=data.frame(Title=title,PushNum=push,Author=aut)
}else {
data5=data.frame(Title=title,PushNum=push,Author=aut)
}
}
View(data1)
View(data2)
View(data3)
View(data4)
View(data5)
data = rbind(data1, data2, data3, data4, data5)
knitr::kable(
data[1:100,c("Title","PushNum","Author")])
knitr::kable(
data[1:100,c("No","Title","PushNum","Author")])
No<-1:100
knitr::kable(
data[1:100,c("No","Title","PushNum","Author")])
View(data)
pttNBA<-paste("https://www.ptt.cc/bbs/NBA/index",4605-i,".html",sep="")
for(n in 1:5){
i=4605-n
pttNBA<-paste("https://www.ptt.cc/bbs/NBA/index",i,".html",sep="")
pttContent<-read_html(pttNBA ,encoding="UTF-8")
title <- pttContent %>% html_nodes(".title") %>% html_text()
push<-pttContent %>% html_nodes(".nrec")  %>% html_text()
aut<- pttContent %>% html_nodes(".author") %>% html_text()
if(n==1){
data1=data.frame(Title=title,PushNum=push,Author=aut)
}else if(n==2){
data2=data.frame(Title=title,PushNum=push,Author=aut)
}else if(n==3){
data3=data.frame(Title=title,PushNum=push,Author=aut)
}else if(n==4){
data4=data.frame(Title=title,PushNum=push,Author=aut)
}else {
data5=data.frame(Title=title,PushNum=push,Author=aut)
}
}
data = rbind(data1, data2, data3, data4, data5)
knitr::kable(
data[1:100,c("Title","PushNum","Author")])
View(data)
data=NULL
for(n in 1:5){
i=4606-n
pttNBA<-paste("https://www.ptt.cc/bbs/NBA/index",i,".html",sep="")
pttContent<-read_html(pttNBA ,encoding="UTF-8")
title <- pttContent %>% html_nodes(".title") %>% html_text()
push<-pttContent %>% html_nodes(".nrec")  %>% html_text()
aut<- pttContent %>% html_nodes(".author") %>% html_text()
if(n==1){
data1=data.frame(Title=title,PushNum=push,Author=aut)
}else if(n==2){
data2=data.frame(Title=title,PushNum=push,Author=aut)
}else if(n==3){
data3=data.frame(Title=title,PushNum=push,Author=aut)
}else if(n==4){
data4=data.frame(Title=title,PushNum=push,Author=aut)
}else {
data5=data.frame(Title=title,PushNum=push,Author=aut)
}
}
data = rbind(data1, data2, data3, data4, data5)
knitr::kable(
data[1:100,c("Title","PushNum","Author")])
data=NULL
for(n in 1:5){
##目前NBA版最新頁數之index值為4606
i=4607-n
pttNBA<-paste("https://www.ptt.cc/bbs/NBA/index",i,".html",sep="")
pttContent<-read_html(pttNBA ,encoding="UTF-8")
title <- pttContent %>% html_nodes(".title") %>% html_text()
push <- pttContent %>% html_nodes(".nrec")  %>% html_text()
aut <- pttContent %>% html_nodes(".author") %>% html_text()
if(n==1){
data1=data.frame(Title=title,PushNum=push,Author=aut)
}else if(n==2){
data2=data.frame(Title=title,PushNum=push,Author=aut)
}else if(n==3){
data3=data.frame(Title=title,PushNum=push,Author=aut)
}else if(n==4){
data4=data.frame(Title=title,PushNum=push,Author=aut)
}else {
data5=data.frame(Title=title,PushNum=push,Author=aut)
}
}
data = rbind(data1, data2, data3, data4, data5)
knitr::kable(
data[1:100,c("Title","PushNum","Author")])
View(data)
View(data)
data=NULL
for(n in 1:5){
##目前NBA版最新頁數之index值為4606(最新一頁不足20筆)
i=4606-n
pttNBA<-paste("https://www.ptt.cc/bbs/NBA/index",i,".html",sep="")
pttContent<-read_html(pttNBA ,encoding="UTF-8")
title <- pttContent %>% html_nodes(".title") %>% html_text()
push <- pttContent %>% html_nodes(".nrec")  %>% html_text()
aut <- pttContent %>% html_nodes(".author") %>% html_text()
if(n==1){
data1=data.frame(Title=title,PushNum=push,Author=aut)
}else if(n==2){
data2=data.frame(Title=title,PushNum=push,Author=aut)
}else if(n==3){
data3=data.frame(Title=title,PushNum=push,Author=aut)
}else if(n==4){
data4=data.frame(Title=title,PushNum=push,Author=aut)
}else {
data5=data.frame(Title=title,PushNum=push,Author=aut)
}
}
data = rbind(data1, data2, data3, data4, data5)
View(data)
View(data)
dim(data)
nrow(data)
str(data)
View(data)
knitr::kable(data[1:100,c("Title","PushNum","Author")])
knitr::kable(data[1:100,c("Title","PushNum","Author")]) ##請將iris取代為上個步驟中產生的爬蟲資料資料框
nrow(data)
nrow(data)
table(data)
View(data)
knitr::kable(data[1:100,c("Title","PushNum","Author")]) ##請將iris取代為上個步驟中產生的爬蟲資料資料框
data=NULL
for(n in 1:5){
##目前NBA版最新頁數之index值為4606 (最新一頁不足20筆，所以我從再前一頁開始)
i=4606-n
pttNBA<-paste("https://www.ptt.cc/bbs/NBA/index",i,".html",sep="")
pttContent<-read_html(pttNBA ,encoding="UTF-8")
title <- pttContent %>% html_nodes(".title") %>% html_text()
push <- pttContent %>% html_nodes(".nrec")  %>% html_text()
aut <- pttContent %>% html_nodes(".author") %>% html_text()
##一頁共20筆資料，一共爬5頁分別裝在5個資料表，所以20*5=100筆
if(n==1){
data1=data.frame(Title=title,PushNum=push,Author=aut)
}else if(n==2){
data2=data.frame(Title=title,PushNum=push,Author=aut)
}else if(n==3){
data3=data.frame(Title=title,PushNum=push,Author=aut)
}else if(n==4){
data4=data.frame(Title=title,PushNum=push,Author=aut)
}else {
data5=data.frame(Title=title,PushNum=push,Author=aut)
}
}
##5合1
data <- rbind(data1, data2, data3, data4, data5)
View(data)
knitr::kable(data[1:100,c("Title","PushNum","Author")]) ##請將iris取代為上個步驟中產生的爬蟲資料資料框
#這是R Code Chunk
##第一次使用要先安裝
install.packages("rvest")
library(rvest)
data=NULL
for(n in 1:5){
##目前NBA版最新頁數之index值為4606 (最新一頁不足20筆，所以我從再前一頁開始)
i=4606-n
pttNBA<-paste("https://www.ptt.cc/bbs/NBA/index",i,".html",sep="")
pttContent<-read_html(pttNBA ,encoding="UTF-8")
title <- pttContent %>% html_nodes(".title") %>% html_text()
push <- pttContent %>% html_nodes(".nrec")  %>% html_text()
aut <- pttContent %>% html_nodes(".author") %>% html_text()
##一頁共20筆資料，一共爬5頁分別裝在5個資料表，所以20*5=100筆
if(n==1){
data1=data.frame(Title=title,PushNum=push,Author=aut)
}else if(n==2){
data2=data.frame(Title=title,PushNum=push,Author=aut)
}else if(n==3){
data3=data.frame(Title=title,PushNum=push,Author=aut)
}else if(n==4){
data4=data.frame(Title=title,PushNum=push,Author=aut)
}else {
data5=data.frame(Title=title,PushNum=push,Author=aut)
}
}
##5合1
data = rbind(data1, data2, data3, data4, data5)
View(data)
a
knitr::kable(data[1:100,c("Title","PushNum","Author")]) ##請將iris取代為上個步驟中產生的爬蟲資料資料框
str(data)
table(data$Author)
table(data$Aut)
knitr::kable(table(data$Author)[1:100,c("Author", "Times")])
Times =table(data$Author)
knitr::kable(table(data$Author)[1:5,c("Author", "Times")])
knitr::kable(data[1:5,c("Author", "Times")])
knitr::kable(data[1:5,c("Author", "Times")])
Times =NULL
head(data)
table(data$Author)
Times=table(data$Author)
Times<-table(data$Author)
Times<-table(data$Author)
caltime = data.frame(Author=aut, Times)
caltime = data.frame(data$Author, Times)
Times<-table(data$Author)
Times<-table(data$Author)
table(data$Author)
View(Times)
Times<-table(data$Author)
print(Times)
print(data)
caltimes<-(data$Author[1:5], Times[1:5])
caltimes<-(data$Author[1:5], Times[1:5])
table(data$Author)[1:5]
table(data$Author)
show(data)
show(table(data$Author))
show(table(data$Author)[1:20])
table(data$Author)
View(data)
install.packages("knitr")
install.packages("knitr")
#這是R Code Chunk
##第一次使用要先安裝
install.packages("rvest")
library(rvest)
data=NULL
for(n in 1:5){
##目前NBA版最新頁數之index值為4606 (最新一頁不足20筆，所以我從再前一頁開始)
i=4606-n
pttNBA<-paste("https://www.ptt.cc/bbs/NBA/index",i,".html",sep="")
pttContent<-read_html(pttNBA ,encoding="UTF-8")
title <- pttContent %>% html_nodes(".title") %>% html_text()
push <- pttContent %>% html_nodes(".nrec")  %>% html_text()
aut <- pttContent %>% html_nodes(".author") %>% html_text()
##一頁共20筆資料，一共爬5頁分別裝在5個資料表，所以20*5=100筆
if(n==1){
data1=data.frame(Title=title,PushNum=push,Author=aut)
}else if(n==2){
data2=data.frame(Title=title,PushNum=push,Author=aut)
}else if(n==3){
data3=data.frame(Title=title,PushNum=push,Author=aut)
}else if(n==4){
data4=data.frame(Title=title,PushNum=push,Author=aut)
}else {
data5=data.frame(Title=title,PushNum=push,Author=aut)
}
}
##5合1
data = rbind(data1, data2, data3, data4, data5)
print(data)
#這是R Code Chunk
knitr::kable(data[1:100,c("Title","PushNum","Author")]) ##請將iris取代為上個步驟中產生的爬蟲資料資料框
nrow(data)
table(data$Author)
